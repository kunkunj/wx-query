!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["wx-simple"]={})}(this,(function(e){"use strict";function t(e){e.prototype.create=function(){return new e},e.create=function(){return new e}}const n=e=>"object"!=typeof e||!Object.keys(e).length;function a(e){e.prototype.init=o,e.init=o}function o(e){if(e.createDataKey)throw new Error("请不要取名createDataKey");e.createDataKey=function(e,t,n,a){for(const o in e)if("object"==typeof e[o])n.createDataKey(e[o],t+"$$"+o,n,a+"."+o);else if(["string","number"].includes(typeof e[o])){n.setData({[t+"$$"+o]:e[o]}),Object.defineProperty(n.data,t+"$$"+o,{set(e){let a=(t+"$$"+o).split("$$");if(2==a.length)return void(n.observeData[a[1]]!==e&&(n.observeData[a[1]]=e));let i={};for(let t=1;t<a.length;t++)t<a.length-1?i=n.observeData[a[t]]:i[o]!==e&&(i[o]=e)},get:()=>e[o]});let i=a.split("."),r=n;i.map((e=>{r=r[e]})),e["_"+o]=e[o],Object.defineProperty(r,o,{set(a){e["_"+o]=a,n.setData({[t+"$$"+o]:a})},get:()=>e["_"+o]})}},n(this.plugins)||(e.$keyName?e[e.$keyName]=this.plugins:e.$=this.plugins),e.onReady&&e.onReady(),e.onReady=function(){this.observeData&&this.createDataKey(e.observeData,e.sup||"L",this,"observeData")},Page(e)}function i(e){e.prototype.plugins={},e.plugins={}}function r(e){e.prototype.use=function(t){return Array.isArray(t)?t.map((t=>{t.install?.call(null,e)})):t.install?.call(null,e),e},e.use=function(t){return Array.isArray(t)?t.map((t=>{t.install?.call(null,e)})):t.install?.call(null,e),e}}function s(){}var l;function u(){}l=s,Array.isArray(l)&&l.map((e=>{r(e)})),"function"==typeof l&&r(l),(e=>{Array.isArray(e)&&e.map((e=>{t(e)})),"function"==typeof e&&t(e)})(s),(e=>{Array.isArray(e)&&e.map((e=>{a(e)})),"function"==typeof e&&a(e)})(s),(e=>{Array.isArray(e)&&e.map((e=>{i(e)})),"function"==typeof e&&i(e)})(s),u.prototype.instance=function(){};const f={install(e){console.log(e),e.plugins.$request=u}};e.WxRequest=f,e.wxPage=s,Object.defineProperty(e,"__esModule",{value:!0})}));
